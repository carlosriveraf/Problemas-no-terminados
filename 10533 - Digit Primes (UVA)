#include <bits/stdc++.h>
using namespace std;

bool primo(int x){
	if(x==2){return true;}
	else if(!(x&1)){return false;}
	int i=3;
	for(;i*i<=x;i+=2){
		if(x%i==0){return false;}
	}
	return true;
}

int suma(int x){
	int suma=0;
	while(x!=0){
		suma+=x%10;
		x/=10;
	}
	return suma;
}

int main(){
	int T; scanf("%d",&T);
	
	while(T--){
		int t1, t2;
		scanf("%d %d",&t1,&t2);
		int count=0;

		for(int i=t1;i<=t2;i++){
			if( primo(i)==1 && primo(suma(i))==1 ){count++;}	
		}
		
		printf("%d\n",count);

	}
	
	return 0;
}
